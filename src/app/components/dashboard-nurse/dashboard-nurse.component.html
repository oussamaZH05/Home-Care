<app-titles title="Dashboard"></app-titles>
<div class="container">
  <div class="d-profile-inf-box mt-5" *ngIf="show == 'send'">
    <h4 class="d-pf">Requests Sent Historic:</h4>
    <table class="table" *ngIf="requestsSent?.length > 0">
      <thead class="thead-light">
        <tr>
          <th>Date</th>
          <th>Title</th>
          <th>Description</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let request of requestsSent">
          <td>{{ request.date | date : "dd/MM/yyyy" }}</td>
          <td>{{ request.title }}</td>
          <td>{{ request.description }}</td>

          <td>
            <ul class="wrapper">
              <li class="icon facebook">
                <span class="tooltip">View Post Info</span>
                <span>
                  <i
                    class="far fa-eye fa"
                    (click)="goToPostInfo(request._id)"
                  ></i
                ></span>
              </li>
              <li class="icon editOuss">
                <span class="tooltip">View Client Profile</span>
                <span
                  ><i
                    class="fa fa-user"
                    (click)="goToClientProfileInfo(request.userId)"
                  ></i
                ></span>
              </li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="requestsSent?.length == 0" class="text-center">
      <h3>No Data Found</h3>
    </div>
  </div>
  <div class="d-profile-inf-box mt-5" *ngIf="show == 'received'">
    <h4 class="d-pf">Requests Received:</h4>
    <table class="table" *ngIf="requestsReceived?.length > 0">
      <thead class="thead-light">
        <tr>
          <th>Date</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Phone</th>
          <th>Address</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let request of requestsReceived">
          <td>{{ request.date | date : "dd/MM/yyyy" }}</td>
          <td>{{ request.clients[0].firstName }}</td>
          <td>{{ request.clients[0].lastName }}</td>
          <td>{{ request.clients[0].phone }}</td>
          <td>{{ request.clients[0].address }}</td>
          <td>{{ request.status }}</td>

          <td>
            <ul class="wrapper" *ngIf="request.status == 'Not Confirmed'">
              <li
                class="icon facebook"
                *ngIf="request.status == 'Not Confirmed'"
              >
                <span class="tooltip">Confirm</span>
                <span>
                  <i
                    class="far fa-eye fa"
                    (click)="confirmRequest(request._id)"
                  ></i
                ></span>
              </li>

              <li class="icon DeleteOuss">
                <span class="tooltip">Cancel</span>
                <span
                  ><i
                    class="far fa-trash-alt fa"
                    (click)="cancelRequest(request._id)"
                  ></i
                ></span>
              </li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="requestsReceived?.length == 0" class="text-center">
      <h3>No Data Found</h3>
    </div>
  </div>
</div>
